
var Elevator=function(options){"use strict";var body=null;var animation=null;var duration=null;var customDuration=false;var startTime=null;var startPosition=null;var endPosition=0;var targetElement=null;var verticalPadding=null;var elevating=false;var startCallback;var mainAudio;var endAudio;var endCallback;var that=this;function easeInOutQuad(t,b,c,d){t/=d/2;if(t<1)return c/2*t*t+b;t--;return-c/2*(t*(t-2)-1)+b}function extendParameters(options,defaults){for(var option in defaults){var t=options[option]===undefined&&typeof option!=="function";if(t){options[option]=defaults[option]}}return options}function getVerticalOffset(element){var verticalOffset=0;while(element){verticalOffset+=element.offsetTop||0;element=element.offsetParent}if(verticalPadding){verticalOffset=verticalOffset-verticalPadding}return verticalOffset}function animateLoop(time){if(!startTime){startTime=time}var timeSoFar=time-startTime;var easedPosition=easeInOutQuad(timeSoFar,startPosition,endPosition-startPosition,duration);window.scrollTo(0,easedPosition);if(timeSoFar<duration){animation=requestAnimationFrame(animateLoop)}else{animationFinished()}}this.elevate=function(){if(elevating){return}elevating=true;startPosition=document.documentElement.scrollTop||body.scrollTop;updateEndPosition();if(!customDuration){duration=Math.abs(endPosition-startPosition)*1.5}requestAnimationFrame(animateLoop);if(mainAudio){mainAudio.play()}if(startCallback){startCallback()}};function browserMeetsRequirements(){return window.requestAnimationFrame&&window.Audio&&window.addEventListener}function resetPositions(){startTime=null;startPosition=null;elevating=false}function updateEndPosition(){if(targetElement){endPosition=getVerticalOffset(targetElement)}}function animationFinished(){resetPositions();if(mainAudio){mainAudio.pause();mainAudio.currentTime=0}if(endAudio){endAudio.play()}if(endCallback){endCallback()}}function onWindowBlur(){if(elevating){cancelAnimationFrame(animation);resetPositions();if(mainAudio){mainAudio.pause();mainAudio.currentTime=0}updateEndPosition();window.scrollTo(0,endPosition)}}function bindElevateToElement(element){if(element.addEventListener){element.addEventListener("click",that.elevate,false)}else{element.attachEvent("onclick",function(){updateEndPosition();document.documentElement.scrollTop=endPosition;document.body.scrollTop=endPosition;window.scroll(0,endPosition)})}}function init(_options){body=document.body;var defaults={duration:undefined,mainAudio:false,endAudio:false,preloadAudio:true,loopAudio:true,startCallback:null,endCallback:null};_options=extendParameters(_options,defaults);if(_options.element){bindElevateToElement(_options.element)}if(!browserMeetsRequirements()){return}if(_options.duration){customDuration=true;duration=_options.duration}if(_options.targetElement){targetElement=_options.targetElement}if(_options.verticalPadding){verticalPadding=_options.verticalPadding}window.addEventListener("blur",onWindowBlur,false);if(_options.mainAudio){mainAudio=new Audio(_options.mainAudio);mainAudio.setAttribute("preload",_options.preloadAudio);mainAudio.setAttribute("loop",_options.loopAudio)}if(_options.endAudio){endAudio=new Audio(_options.endAudio);endAudio.setAttribute("preload","true")}if(_options.endCallback){endCallback=_options.endCallback}if(_options.startCallback){startCallback=_options.startCallback}}init(options)};


// Elevator script included on the page, already.

window.onload = function() {
  var elevator = new Elevator({
	 element: document.querySelector('.elevator-button'),
    mainAudio: '/wp-content/themes/illdy/layout/music/elevator.mp3',
    endAudio: '/wp-content/themes/illdy/layout/music/ding.mp3'
  });
}



var millis = 999;
function getTimeRemaining(endtime) {
  var t = Date.parse(endtime) - Date.parse(new Date());
  var seconds = Math.floor((t / 1000) % 60);
  var minutes = Math.floor((t / 1000 / 60) % 60);
  var hours = Math.floor((t / (1000 * 60 * 60)) % 24);
  var days = Math.floor(t / (1000 * 60 * 60 * 24));
  if(millis <= 0)
{ 
	millis = 999;
}
else
{
	millis -= 10;
}

return {
    'total': t,
    'days': days,
    'hours': hours,
    'minutes': minutes,
    'seconds': seconds,
    'millis': millis
  };
}

function initializeClock(id, endtime) {
  var clock = document.getElementById(id);
  var daysSpan = clock.querySelector('.days');
  var hoursSpan = clock.querySelector('.hours');
  var minutesSpan = clock.querySelector('.minutes');
  var secondsSpan = clock.querySelector('.seconds');
 var millisSpan = clock.querySelector('.millis');
  function updateClock() {
    var t = getTimeRemaining(endtime);

    daysSpan.innerHTML = t.days;
    hoursSpan.innerHTML = ('0' + t.hours).slice(-2);
    minutesSpan.innerHTML = ('0' + t.minutes).slice(-2);
    secondsSpan.innerHTML = ('0' + t.seconds).slice(-2);
    if (t.total <= 0) {
      clearInterval(timeinterval);
    }
  }

  updateClock();
  var timeinterval = setInterval(updateClock, 1000);
}

var deadline = new Date(Date.parse("4/9/2017 14:00:00"));
initializeClock('clockdiv', deadline);


jQuery(document).ready(function(a){function b(){a.browser.device=/iphone|ipad|ipod/i.test(navigator.userAgent.toLowerCase()),1==a.browser.device&&(a("#counter").css("background-attachment","scroll"),a("#testimonials").css("background-attachment","scroll"))}function c(){a('a[href*="#"]:not([href="#"])').on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var b=a(this.hash);if(b=b.length?b:a("[name="+this.hash.slice(1)+"]"),b.length)return a("html,body").animate({scrollTop:b.offset().top},1e3),!1}})}function d(){a(".open-responsive-menu").click(function(){a(".responsive-menu").toggle("slow",function(){a(this).toggleClass("active")})})}function e(){var b=a("#projects .project"),c=a(b).width();a(b).css("height",c)}function f(){a("#services .section-content .service").length&&a("#services .section-content .service").each(function(){var b=a(this),c=a(b).children(".service-icon"),d=a(b).children(".service-title"),e=a(b).data("service-color");a(c).css("color",e),a(d).css("color",e)})}function g(){a("#team .section-content .person").length&&a("#team .section-content .person").each(function(){var b=a(this),c=a(b).data("person-color"),d=a(b).children(".person-content").children("h5"),e=a(b).children(".person-content").children(".person-content-social.clearfix").children("li").children("a");a(d).css("color",c),a(e).css("background-color",c)})}function h(){a("#header .top-header .header-navigation ul li.menu-item-has-children").hover(function(){a(this).children("ul").css("visibility","visible").fadeIn()},function(){a(this).children("ul").css("visibility","hidden").fadeOut()})}function i(){if(a("#header .top-header .header-navigation ul li.menu-item-has-children").length){var b=a("#header .top-header .header-navigation ul li.menu-item-has-children ul");a(b).each(function(){k-a(this).offset().left<250&&a(this).css("left","-250px")})}}function j(){var b=a("li.description_tab"),c=a("li.description_tab a"),d=a("li.reviews_tab"),e=a("li.reviews_tab a"),f=a(".panel#tab-description"),g=a(".panel#tab-reviews");a(c).click(function(){a(this).parent().addClass("active"),a(d).removeClass("active"),a(f).show(),a(g).hide()}),a(e).click(function(){a(this).parent().addClass("active"),a(b).removeClass("active"),a(g).show(),a(f).hide()})}var k=a(window).width();a(window).height(),a(document).width(),a(document).height();a(function(){b(),c(),d(),e(),f(),g(),h(),i(),j()}),a(window).resize(function(){a(function(){e()})})});
//# sourceMappingURL=scripts.min.js.map
